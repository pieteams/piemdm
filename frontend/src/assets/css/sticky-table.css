/**
 * ========================================
 * Sticky Table - Stable Version
 * 适配：
 * - Bootstrap table / table-hover / table-striped
 * - 左 checkbox 列 + 右 actions 列
 * - hover / zebra / 滚动 不透明、不闪
 * ========================================
 */

/* ----------------------------------------
 * Table Base
 * ---------------------------------------- */
.sticky-table {
  border-collapse: separate !important;
  border-spacing: 0;
}

/* 手动绘制边框（sticky 必需） */
.sticky-table th,
.sticky-table td {
  border-bottom: 1px solid #dee2e6 !important;
  border-right: 1px solid #dee2e6 !important;
  border-top: 0 !important;
  border-left: 0 !important;
}

/* 左侧边框 */
.sticky-table thead th:first-child,
.sticky-table tbody td:first-child {
  border-left: 1px solid #dee2e6 !important;
}

/* 顶部边框 */
.sticky-table thead tr:first-child th {
  border-top: 1px solid #dee2e6 !important;
}

/* table-bordered 圆角修复 */
.sticky-table.table-bordered {
  border: 0;
}

/* ----------------------------------------
 * Sticky Column Common
 * ---------------------------------------- */
.sticky-col {
  position: sticky;
  z-index: 10;
  background-color: #fff;
  /* 必须显式声明 */
}

/* 表头 sticky */
.sticky-table thead th.sticky-col {
  z-index: 20;
  background-color: #f8f9fa;
}

/* ----------------------------------------
 * Zebra Striping（关键）
 * ---------------------------------------- */
.table-striped>tbody>tr:nth-of-type(odd)>td {
  background-color: #f2f2f2;
}

.table-striped>tbody>tr:nth-of-type(odd)>td.sticky-col,
.table-striped>tbody>tr:nth-of-type(odd)>td.sticky-col-actions {
  background-color: #f2f2f2 !important;
}

/* ----------------------------------------
 * Hover（核心修复）
 * ---------------------------------------- */
.table-hover>tbody>tr:hover>td {
  background-color: #ececec;
}

/* sticky 列 hover 强制覆盖 */
.table-hover>tbody>tr:hover>td.sticky-col,
.table-hover>tbody>tr:hover>td.sticky-col-actions {
  background-color: #ececec !important;
}

/* ----------------------------------------
 * Checkbox Column (Left)
 * ---------------------------------------- */
.sticky-col-checkbox {
  left: 0;
  z-index: 30;
  width: 40px;
  min-width: 40px;
  max-width: 40px;
}

/* 紧随 checkbox 的数据列 */
.sticky-col-data {
  left: 40px;
  z-index: 20;
}

/* ----------------------------------------
 * Actions Column (Right)
 * ---------------------------------------- */
.sticky-col-actions {
  right: 0;
  z-index: 30;
  background-color: #fff;
  border-left: 1px solid #dee2e6 !important;
  padding-left: 6px;
  padding-right: 6px;
}

/* 表头 actions */
.sticky-table thead th.sticky-col-actions {
  z-index: 40;
  background-color: #f8f9fa;
}

/* 操作按钮间距 */
.sticky-col-actions a {
  margin-right: 0.5rem;
}

.sticky-col-actions a:last-child {
  margin-right: 0;
}